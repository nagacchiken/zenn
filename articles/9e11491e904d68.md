---
title: "CloudFormationからCDKへ移行する"
emoji: "📘"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["CloudFormation","CDK"]
published: false
---



これまでインフラエンジニアがAWSのリソースをCloudFormationでリソース管理していたものをアプリケーションレイヤーを操作する人たちで管理する必要が出てきた

インフラのコストとしてcfnは重いからCDKに移行したいと考えた

実際にCDKへ移行するときの手順を残す


## 大まかな流れ

1. cfn-flip

2. cdk migrate の実行

3. L1コンストラクタをL2コンストラクタに変換


## cfn-flipの実行

### cfn-flipとは

cloudformationをいい感じに整形してくれるすごいやつ。
https://github.com/awslabs/aws-cfn-template-flip

cfnが省略形で記述されていたりするとcdk migrateコマンドを実行したときにうまく変換をしてくれません。そこでcfn-flipを利用して綺麗な形式に予め変換してやる必要があります。